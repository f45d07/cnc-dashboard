{"version":3,"sources":["logo.svg","Lang.js","MachinesTypes.js","Api.js","Home.js","Machines.js","PageError.js","Header.js","Footer.js","AllDocs.js","Docs.js","Doc.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","languages","ru","short_lang","lang","documents_dashboard_title","documents_cnc_title","machine","home_page","docs_page","not_found","loading","load_error","waiting_data","connected","last_update","copyright","Milling","Lathe","en","Loading","getLangString","string","_lang","undefined","MachinesTypes","Api_links","default","get_all_machines","get_machine","Home","props","state","isLoding","machines","current_lang","current_error","api","this","fetch","then","response","json","responseJson","setState","catch","error","console","className","CardDeck","map","Card","key","id","Body","Title","href","name","Img","variant","src","image","onError","e","target","Text","type","options","option","Object","keys","Footer","aria-hidden","place","Date","last_seen","toLocaleDateString","Component","Machines","client_id","isLoading","isError","machine_id","reconnect_timer","socket","th","WebSocket","document","domain","onerror","setInterval","socketConnection","onopen","clearInterval","jsonString","JSON","stringify","action","language","readyState","send","onclose","onmessage","messange","msg","parse","data","match","params","MachineId","header","Alert","one","two","three","PageError","class","Header","UpdateCurrentLang","localStorage","html","current_lang_class","url","onClick","setLang","all_languages","Navbar","bg","expand","Toggle","Collapse","Nav","Link","ButtonToolbar","Button","size","documentation","main","names","version","for_machines","getDocs","return_docs","Array","forEach","doc","push","Docs","Doc","DocId","useParams","App","Math","round","random","path","component","exact","Boolean","window","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.40c45cbe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","const default_lang = 'ru';\r\nconst languages = {\r\n    ru: {\r\n        // Отображение\r\n        short_lang: \"Рус\",\r\n        lang: \"Русский\",\r\n        // Заголовки\r\n        documents_dashboard_title: \"Документация на систему\",\r\n        documents_cnc_title: \"Документация на ЧПУ\",\r\n        machine: \"Станок\",\r\n        // Страницы\r\n        home_page: \"На главную\",\r\n        docs_page: \"Документация\",\r\n        not_found: \"Страница не найдена!адинадинадин\",\r\n        // \r\n        loading: \"Загрузка\",\r\n        load_error: \"Ошибка загрузки!\",\r\n        waiting_data: \"Ожидание данных\",\r\n        connected: \"Соединение установлено\",\r\n        last_update: \"Последнее обновление\",\r\n        copyright: \"Что-то в конце\",\r\n        // Типы станков\r\n        Milling: \"Фрезерный станок\",\r\n        Lathe: \"Токарный станок\"\r\n    },\r\n    en: {\r\n        // \r\n        short_lang: \"Eng\",\r\n        lang: \"English\",\r\n        // Titles\r\n        documents_dashboard_title: \"Documentation for dashboard\",\r\n        documents_cnc_title: \"CNC documentation\",\r\n        machine: \"Machine\",\r\n        // Pages\r\n        home_page: \"Home\",\r\n        docs_page: \"Documentation\",\r\n        not_found: \"Page ERROR!!111\",\r\n        // \r\n        Loading: \"Loading\",\r\n        load_error: \"Loading error!\",\r\n        waiting_data: \"Waiting for data\",\r\n        connected: \"Connected\",\r\n        last_update: \"Last update\",\r\n        copyright: \"Something in the end\",\r\n        // Machines types\r\n        Milling: \"Milling machine\",\r\n        Lathe: \"Lathe  machine\"\r\n    }\r\n};\r\n\r\nfunction getLangString(languages, lang, string) {\r\n    var _lang = lang;\r\n    if(_lang === undefined) _lang = default_lang;\r\n    if (languages[_lang][string] !== undefined) {\r\n        return languages[_lang][string];\r\n    }\r\n    else {\r\n        return string;\r\n    }\r\n}\r\n\r\nfunction getAllLanguages() {\r\n    return [\r\n        {\r\n            url: \"en\",\r\n            short_lang: \"Eng\",\r\n            lang: \"English\"\r\n        },\r\n        {\r\n            url: \"ru\",\r\n            short_lang: \"Рус\",\r\n            lang: \"Русский\",\r\n        }\r\n    ];\r\n}\r\n\r\nexport { languages, getLangString, getAllLanguages };\r\n","const MachinesTypes = [\r\n    \"Without_type\",\r\n    \"Milling\",\r\n    \"Lathe\"\r\n];\r\n\r\nfunction getMachineType(type) {\r\n    if (MachinesTypes[type] !== undefined) {\r\n        return MachinesTypes[type];\r\n    }\r\n    else {\r\n        return \"Unknow_type\";\r\n    }\r\n}\r\n\r\nexport { getMachineType };\r\n","const Api_links = {\r\n    default: \"default.json\",\r\n    get_all_machines: \"machines.json\",\r\n    get_machine: \"machine.json\",\r\n};\r\n\r\nfunction getApiLink(api) {\r\n    if (Api_links[api] !== undefined) {\r\n        return Api_links[api];\r\n    }\r\n    else {\r\n        return Api_links.default;\r\n    }\r\n}\r\n\r\nexport { getApiLink };","import React, { Component } from 'react';\r\nimport { Router, Route, browserHistory, IndexRoute} from 'react-router';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Card from 'react-bootstrap/Card';\r\nimport './Machines.css'\r\nimport { languages, getLangString } from './Lang';\r\nimport { getMachineType } from './MachinesTypes';\r\nimport { getApiLink } from './Api';\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isLoding: true, machines: null, current_lang: this.props.current_lang, current_error: null };\r\n  }\r\n  render() {\r\n    if (this.state.isLoding) {\r\n      fetch(getApiLink('get_all_machines'))\r\n        .then((response) => response.json())\r\n        .then((responseJson) => {\r\n          this.setState({ machines: responseJson.machines });\r\n          this.setState({ isLoding: false });\r\n        })\r\n        .catch((error) => {\r\n          this.setState({current_error: error});\r\n          console.error(error);\r\n        });\r\n      return (\r\n        <div className=\"center-of-page\">\r\n          <div>\r\n            <p>{getLangString(languages, this.state.current_lang, \"loading\")} ...</p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    else {\r\n      return (\r\n        <div className=\"container\">\r\n          <CardDeck>\r\n            {this.state.machines.map(machine => (\r\n              <Card key={machine.id} className=\"MachineCard\">\r\n                <Card.Body>\r\n                  <Card.Title><a href={\"/machine/\" + machine.id}>{machine.name}</a></Card.Title>\r\n                  <div className=\"MachineImg\">\r\n                    <Card.Img variant=\"bottom\" src={machine.image} onError={e => {\r\n                      e.target.src = 'data:image/gif;base64,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';\r\n                    }} />\r\n                  </div>\r\n                  <Card.Text>\r\n                    <div className=\"MachineType\">\r\n                      <b>{getLangString(languages, this.state.current_lang, getMachineType(machine.type))}</b>\r\n                    </div>\r\n                    {machine.options !== undefined &&\r\n                      <div className=\"parameters\">\r\n                        {machine.options.map((option) => (\r\n                          <div key={Object.keys(option)[0]} className=\"parameter\">{Object.keys(option)[0]}: {option[Object.keys(option)[0]]}</div>\r\n                        ))}\r\n                      </div>\r\n                    }\r\n                  </Card.Text>\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                  <div><small className=\"text-muted\"><span className=\"glyphicon glyphicon-map-marker\" aria-hidden=\"true\"></span> {machine.place}</small></div>\r\n                  <div><small className=\"text-muted\">{getLangString(languages, this.state.current_lang, \"last_update\")} {new Date(machine.last_seen * 1000).toLocaleDateString(\"ru-RU\")}</small></div>\r\n                </Card.Footer>\r\n              </Card>\r\n            ))}\r\n          </CardDeck>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport { languages, getLangString } from './Lang';\r\n\r\nclass Machines extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            current_lang: this.props.current_lang,\r\n            client_id: this.props.client_id,\r\n            isLoading: true,\r\n            isError: false,\r\n            machine_id: null,\r\n            machine: null,\r\n            reconnect_timer: null\r\n        };\r\n        this.socket = null;\r\n    }\r\n    socketConnection(th) {\r\n        th.socket = new WebSocket(\"ws://\" + document.domain + \":9001/?machine_id=\" + th.state.machine_id + \"&client_id=\" + th.state.client_id);\r\n        th.socket.onerror = (error) => {\r\n            th.setState({ isError: true });\r\n            th.socket = null;\r\n            //console.error(error);\r\n            if (th.state.reconnect_timer == null) {\r\n                th.setState({\r\n                    reconnect_timer: setInterval(th.socketConnection, 1000, th)\r\n                });\r\n            }\r\n        }\r\n        th.socket.onopen = () => {\r\n            th.setState({ isError: false });\r\n            th.setState({ isLoading: false });\r\n            clearInterval(th.state.reconnect_timer);\r\n            th.setState({ reconnect_timer: null });\r\n            var jsonString = JSON.stringify({ action: \"start\", language: th.state.current_lang })\r\n            if(th.socket.readyState === 1) th.socket.send(jsonString);\r\n        }\r\n        th.socket.onclose = () => {\r\n            th.setState({ isError: true });\r\n            th.setState({ isLoading: true });\r\n            th.setState({ isError: true });\r\n            th.socket = null;\r\n            //console.error(error);\r\n            if (th.state.reconnect_timer == null) {\r\n                th.setState({\r\n                    reconnect_timer: setInterval(th.socketConnection, 1000, th)\r\n                });\r\n            }\r\n        }\r\n        th.socket.onmessage = (messange) => {\r\n            var msg = JSON.parse(messange.data);\r\n            th.setState({ machine: msg.machine });\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const machine_id = this.props.match.match.params.MachineId;\r\n        this.setState({ machine_id: machine_id },\r\n            () => this.socketConnection(this));\r\n    }\r\n    render() {\r\n        const header = <h2>{getLangString(languages, this.state.current_lang, \"machine\")} {this.state.machine_id}</h2>;\r\n        if (this.state.isLoading) {\r\n            return (\r\n                <div className=\"container\">\r\n                    {header}\r\n                    <div>{getLangString(languages, this.state.current_lang, \"loading\")} ...</div>\r\n                    <div>{this.state.isError == true && <Alert variant=\"danger\">{getLangString(languages, this.state.current_lang, \"load_error\")}</Alert>}</div>\r\n                </div>\r\n            );\r\n        }\r\n        else if (this.state.machine !== null) {\r\n            return (\r\n                <div className=\"container\">\r\n                    {header}\r\n                    <p>{getLangString(languages, this.state.current_lang, \"connected\")}</p>\r\n                    <ul>\r\n                        <li>{this.state.machine.one}</li>\r\n                        <li>{this.state.machine.two}</li>\r\n                        <li>{this.state.machine.three}</li>\r\n                    </ul>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div className=\"container\">\r\n                    {header}\r\n                    <p>{getLangString(languages, this.state.current_lang, \"waiting_data\")}</p>\r\n                    <div>{this.state.isError == true && <Alert variant=\"danger\">{getLangString(languages, this.state.current_lang, \"load_error\")}</Alert>}</div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Machines;","import React from 'react';\r\nimport { languages } from './Lang';\r\n\r\nfunction PageError(props) {\r\n    return (\r\n        <div class=\"center-of-page\">\r\n            <div>\r\n                {languages[props.current_lang].not_found}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PageError;","import React, { Component } from 'react';\r\nimport { Navbar, Nav, ButtonToolbar, Button } from 'react-bootstrap';\r\nimport { languages, getLangString, getAllLanguages } from './Lang';\r\nimport './Header.css';\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { current_lang: props.current_lang };\r\n  }\r\n  setLang(lang, e) {\r\n    this.setState({ current_lang: lang });\r\n    this.props.UpdateCurrentLang(lang);\r\n    localStorage.current_lang = lang;\r\n    return false;\r\n  }\r\n  LangsList(languages, current_lang) {\r\n    var html = \"\";\r\n    languages.map(\r\n      function (lang) {\r\n        var current_lang_class = null;\r\n        if (lang.url == current_lang) current_lang_class = \"current-language\";\r\n        html += (<span key={lang.url}><a className={current_lang_class} href=\"#\" onClick={(e) => this.setLang(lang.url, e)}>{lang.short_lang}</a>&nbsp;&nbsp;</span>);\r\n      }\r\n    );\r\n    return html;\r\n  }\r\n\r\n  render() {\r\n    let all_languages = getAllLanguages();\r\n    return (\r\n      <Navbar bg=\"light\" variant=\"light\" expand=\"sm\">\r\n        <Navbar.Toggle />\r\n        <Navbar.Collapse className=\"mr-auto\">\r\n          <Nav.Link href=\"/\">{getLangString(languages, this.state.current_lang, 'home_page')}</Nav.Link>\r\n          <ButtonToolbar>\r\n            <Button variant=\"primary\" size=\"sm\" href=\"/docs\">{getLangString(languages, this.state.current_lang, 'docs_page')}</Button>\r\n          </ButtonToolbar>\r\n        </Navbar.Collapse>\r\n        <Navbar.Collapse className=\"justify-content-end\">\r\n          <div className=\"lang-select\">\r\n            {\r\n              all_languages.map(\r\n                (lang) => (                  \r\n                  <span key={lang.url}><a className={lang.url == this.state.current_lang && \"current-language\"} href=\"#\" onClick={(e) => this.setLang(lang.url, e)}>{lang.short_lang}</a>&nbsp;&nbsp;</span>\r\n                )\r\n              )\r\n            }\r\n          </div>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { languages } from './Lang';\r\n\r\nfunction Footer(props) {\r\n    return (\r\n        <div className=\"container\">\r\n            <p className=\"text-muted\">2020 (c) {languages[props.current_lang].copyright}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","const documentation = {\r\n    main: [\r\n        {\r\n            id: 1,\r\n            names: {\r\n                en: \"Tutorial 1\",\r\n                ru: \"Инструкция 1\"\r\n            },\r\n            version: \"1.0\"\r\n        },\r\n        {\r\n            id: 2,\r\n            names: {\r\n                en: \"Tutorial 1\",\r\n                ru: \"Инструкция 1\"\r\n            },\r\n            version: \"2.0\"\r\n        },\r\n        {\r\n            id: 3,\r\n            names: {\r\n                en: \"Tutorial 2\",\r\n                ru: \"Инструкция 2\"\r\n            },\r\n            version: \"1.0\"\r\n\r\n        },\r\n        {\r\n            id: 4,\r\n            names: {\r\n                en: \"Tutorial 3\",\r\n                ru: \"Инструкция 3\"\r\n            },\r\n            version: \"1.0\"\r\n        }\r\n    ],\r\n    for_machines: [\r\n        {\r\n            id: 5,\r\n            names: {\r\n                en: \"CNC 1\",\r\n                ru: \"ЧПУ 1\"\r\n            },\r\n            version: \"1.0\"\r\n\r\n        },\r\n        {\r\n            id: 6,\r\n            names: {\r\n                en: \"CNC 2\",\r\n                ru: \"ЧПУ 2\"\r\n            },\r\n            version: \"1.0\"\r\n\r\n        }\r\n    ]\r\n};\r\n\r\nfunction getDocs(lang, type) {\r\n    let return_docs = Array();\r\n    documentation[type].forEach(doc => {\r\n        return_docs.push({\r\n            id: doc.id,\r\n            name: doc.names[lang],\r\n            version: doc.version\r\n        });\r\n    });\r\n    return return_docs;\r\n}\r\n\r\nexport { getDocs };","import React from 'react';\r\nimport './Docs.css';\r\nimport { getDocs } from './AllDocs.js';\r\nimport { languages, getLangString } from './Lang';\r\n\r\nfunction Docs(props) {\r\n    return (\r\n        <div className=\"container docs\">\r\n            <h1>{getLangString(languages, props.current_lang, \"documents_dashboard_title\")}</h1>\r\n            {getDocs(props.current_lang, \"main\").map((doc) => (\r\n                <div>\r\n                    <p>\r\n                        <span>{doc.id} </span>\r\n                        <span><a href={\"/doc/\"+doc.id}>{doc.name} </a></span>\r\n                        <span><i>v. {doc.version}</i></span>\r\n                    </p>\r\n                </div>\r\n            ))\r\n            }\r\n            <h1>{getLangString(languages, props.current_lang, \"documents_cnc_title\")}</h1>\r\n            {getDocs(props.current_lang, \"for_machines\").map((doc) => (\r\n                <div>\r\n                    <p>\r\n                        <span>{doc.id} </span>\r\n                        <span><a href={\"/doc/\"+doc.id}>{doc.name} </a></span>\r\n                        <span><i>v. {doc.version}</i></span>\r\n                    </p>\r\n                </div>\r\n            ))\r\n            }\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default Docs;","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nfunction Doc() {\r\n    let { DocId } = useParams();\r\n    return (\r\n        <div>Doc {DocId}</div>\r\n    );\r\n}\r\n\r\nexport default Doc;","import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  browserHistory,\n  useRouteMatch,\n  useParams\n} from 'react-router-dom';\nimport Home from './Home';\nimport Machines from './Machines';\nimport PageError from './PageError';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Docs from './Docs';\nimport Doc from './Doc';\n\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    let current_lang = 'ru';\n    if(localStorage.current_lang !== undefined) {\n      current_lang = localStorage.current_lang;\n    }\n    this.state = { \n      current_lang: current_lang,\n      client_id: Math.round(Math.random() * 1000000000)\n    };\n  }\n  UpdateCurrentLang = (lang) => {\n    this.setState({ current_lang: lang })\n  }\n  render() {\n    return (\n      <div>\n        <div className=\"main\">\n          <header id=\"header\">\n            <Header current_lang={this.state.current_lang} UpdateCurrentLang={this.UpdateCurrentLang} />\n          </header>\n          <div id=\"root\">\n            <Router>\n              <Switch>\n                <Route path=\"/machine/:MachineId\" component={(match) => <Machines match={match} client_id={this.state.client_id} current_lang={this.state.current_lang} />} />\n                <Route path=\"/docs\" component={() => <Docs current_lang={this.state.current_lang} />} />\n                <Route path=\"/doc/:DocId\" component={() => <Doc current_lang={this.state.current_lang} />} />\n                <Route exact path=\"/\" component={() => <Home current_lang={this.state.current_lang} />} />\n                <Route path=\"*\" component={() => <PageError current_lang={this.state.current_lang} />} />\n              </Switch>\n            </Router>\n          </div>\n        </div>\n        <div id=\"footer\" className=\"footer\">\n          <Footer current_lang={this.state.current_lang} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('CNC-App'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}